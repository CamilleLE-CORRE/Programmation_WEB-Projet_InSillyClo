{% extends "core/base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/publications.css' %}">
{% endblock %}

{% block content %}
<h1 class="page-title">Publication request #{{ pub.id }}</h1>

<div class="card">
  <p><strong>Requested by:</strong> {{ pub.requested_by.email }}</p>
  <p><strong>Status:</strong> {{ pub.status }}</p>
  <p><strong>Created at:</strong> {{ pub.created_at }}</p>

  <hr>

  <h2>Target preview</h2>

  <div class="muted">
    {{ pub.target_content_type.app_label }}/{{ pub.target_content_type.model }}
    (id={{ pub.target_object_id }})
  </div>

  <div style="margin-top:10px;">
    <strong>{{ target }}</strong>
  </div>

  {% if entries %}
    <h3 style="margin-top:16px;">Entries ({{ entries|length }})</h3>
    <ul>
      {% for e in entries %}
        <li>{{ e }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="muted" style="margin-top:12px;">No detailed preview available for this target yet.</p>
  {% endif %}

  <hr>

  <a class="btn" href="{% url 'publications:admin_requests' %}">Back</a>
</div>
{% endblock %}
